<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Faculty AI Survey</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Banner -->
    <div class="banner">
        <img src="nexted_logo1.png" alt="NextEd Logo">
    </div>

    <div class="container">
        <h1>Faculty AI Adoption Survey</h1>

        <!-- Initial Form (visible by default) -->
        <div id="initial-form" class="form-overlay">
            <div class="form-content">
                <h2>Welcome!</h2>
                <p>This survey explores your thoughts about AI in teaching. It combines structured questions with opportunities to elaborate when topics get complex.</p>
                <p><strong>Estimated time:</strong> 10-30 minutes (depending on detail)</p>
                <form id="user-info-form">
                    <div class="form-group">
                        <label for="name">Name:</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <button type="submit" class="btn-primary">Start Survey</button>
                </form>
                <div class="help-link">
                    <a href="#" onclick="showHelp(); return false;">ℹ️ How does this work?</a>
                </div>
            </div>
        </div>

        <!-- Chat Interface (hidden initially) -->
        <div id="chat-interface" class="hidden">
            <!-- Controls area -->
            <div class="controls-area">
                <div class="controls-left">
                    <button id="help-btn" class="btn-icon" title="Help">ℹ️ Help</button>
                    <span id="timer" class="timer">00:00</span>
                </div>
                <div class="controls-center">
                    <!-- Section Progress Indicator -->
                    <div class="progress-container">
                        <button id="progress-btn" class="progress-button">
                            <span id="progress-text">Section 1 of 6</span>
                            <span class="dropdown-arrow">▼</span>
                        </button>
                        <div id="section-dropdown" class="topic-dropdown hidden">
                            <div class="topic-list">
                                <!-- Sections will be dynamically inserted here -->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="controls-right">
                    <button id="end-conversation-btn" class="btn-end">✓ I'm Done</button>
                </div>
            </div>

            <!-- Messages Display -->
            <div id="messages" class="messages-container"></div>

            <!-- Typing Indicator -->
            <div id="typing-indicator" class="typing-indicator hidden">
                <div class="bot-message">
                    <span class="typing-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </span>
                </div>
            </div>

            <!-- Input Area -->
            <div class="input-area">
                <div class="mic-placeholder"></div>
                
                <textarea 
                    id="user-input" 
                    placeholder="Type your response here..."
                    rows="2"
                ></textarea>
                
                <button id="send-btn" class="btn-send">Send</button>
            </div>
        </div>

        <!-- Help Modal -->
        <div id="help-modal" class="modal hidden">
            <div class="modal-content">
                <h2>How This Survey Works</h2>
                <div class="help-content">
                    <h3>About This Survey</h3>
                    <p>This is a hybrid survey that combines structured questions (like ratings and True/False) with conversational follow-ups when your answers indicate complexity or high interest.</p>
                    
                    <h3>What to Expect</h3>
                    <ul>
                        <li><strong>Duration:</strong> 10-30 minutes (depending on how much detail you provide)</li>
                        <li><strong>Structure:</strong> 6 sections covering different aspects of AI in teaching</li>
                        <li><strong>Format:</strong> One question at a time with optional deeper discussions</li>
                        <li><strong>Progress:</strong> See which section you're in at the top</li>
                    </ul>

                    <h3>Answering Questions</h3>
                    <p>Questions are presented one at a time. You can answer in any format:</p>
                    <ul>
                        <li><strong>Direct:</strong> "5" or "Weekly" or "True"</li>
                        <li><strong>With context:</strong> "5 because I use it for lesson planning daily"</li>
                        <li><strong>Complex:</strong> "It depends - for some courses yes, but for others no"</li>
                        <li><strong>It depends:</strong> This triggers follow-up questions to understand nuance</li>
                    </ul>

                    <h3>You're In Control</h3>
                    <ul>
                        <li><strong>Skip questions:</strong> Say "I don't know" or "skip this"</li>
                        <li><strong>Move on:</strong> Say "next section" to continue</li>
                        <li><strong>End early:</strong> Click "I'm Done" or say "I'm ready to finish"</li>
                        <li><strong>Ask for clarity:</strong> Say "what do you mean?" if confused</li>
                    </ul>

                    <h3>Your Data</h3>
                    <ul>
                        <li>Responses are saved for NextEd program planning</li>
                        <li>You'll review a summary before submitting</li>
                        <li>Cannot resume if you close the window</li>
                    </ul>

                    <h3>Tips</h3>
                    <ul>
                        <li>The bot adapts - complex answers get follow-ups, brief answers move on quickly</li>
                        <li>You can elaborate as much or as little as you want</li>
                        <li>Check section progress to see where you are</li>
                        <li>Press Enter for new lines, click Send to submit</li>
                    </ul>
                </div>
                <button class="btn-primary" onclick="hideHelp()">Got It</button>
            </div>
        </div>

        <!-- Summary Modal -->
        <div id="summary-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Survey Summary</h2>
                <p>Please review this summary of your responses. You can approve it to complete the survey, or modify it if you'd like to add or clarify anything.</p>
                <div id="summary-text" class="summary-text"></div>
                <div class="modal-buttons">
                    <button id="modify-btn" class="btn-secondary">Modify</button>
                    <button id="approve-btn" class="btn-primary">Approve</button>
                </div>
            </div>
        </div>
    </div>

    <script src="faculty-survey.js"></script>
</body>
</html>
